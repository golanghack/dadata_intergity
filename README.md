# Название проекта
Интеграция сервиса Dadata в админку
## Оглавление
- [Ссылка на задачу](#ссылка-на-задачу)
- [Клонирование и правильный запуск проекта](#клонирование-и-правильный-запуск-проекта)
  - [С помощью виртуального окружения](#с-помощью-виртуального-окружения)
  - [С использованием Docker Compose](#с-использованием-docker-compose)
- [Общие замечания](#общие-замечания)
- [Примечания](#примечания)

## Ссылка на задачу
[Ссылка на задачу](https://docs.google.com/document/d/1jod-gfetsdwnmMPduopV0JbrVeXahfmLcC4LnZFAf3Y/edit?pli=1&tab=t.0#heading=h.pgnzp4n3n2rh)

## Клонирование и правильный запуск проекта

### С помощью виртуального окружения
1. Клонировать репозиторий.
2. Установить зависимости с помощью команды `poetry install`.
3. Запустить проект с помощью команды `poetry run python start.py`.
4. Проект запущен и доступен по адресу [http://localhost:8000/](http://localhost:8000/).
5. Для работы с админ панелью необходим вход по имени `admin` и паролю `1691` админ создан тавтоматически.

### С использованием Docker Compose
1. Клонировать репозиторий.
2. Создать файл `.env` с необходимыми переменными окружения (скопировать из `.env.example`).
3. Запустить проект с помощью команды `docker-compose up` (опционально c `--build`).
4. Проект запущен и доступен по адресу [http://localhost:8001/](http://localhost:8001/).
5. Для работы с админ панелью необходим вход по имени `admin` и паролю `1691` админ создан автоматически.

## Общие замечания
- Проект использует виртуальное окружение, поэтому необходимо использовать команды `poetry install` и `poetry run` для установки зависимостей и запуска проекта соответственно.
- Проект использует `docker-compose` для запуска в контейнерах, что позволяет легко развернуть проект на разных системах.
- Проект использует переменные окружения, поэтому необходимо создать файл `.env` с необходимыми переменными окружения.
- В файле `start.py` полностью инкапсулированы все команды для запуска проверки миграций, самих миграций, запуска клонирования статики, запуска сервера, создания администратора.
- В файле `start_local.sh` инкапсулированы все необходимые проверки базы и все необходимые команды для запуска проекта.
- По умолчанию в докере используется PostgreSQL, в виртуальном окружении используется автоматически создаваемая SQLite3 база.
- В файле `Makefile` описаны все задачи на форматирование, линтинг, тестирование.
- В файле `.gitignore` указаны все файлы, которые необходимо игнорировать.
- В файле `.pre-commit` указаны все файлы, которые необходимо проверять перед коммитом.

## Примечания
- Вместо токенов доступа, встроенных в DRF, использованы JWT-токены.
- Переопределена стандартная схема для OpenAPI (исключены некоторые методы).
- В проекте все тесты вынесены в отдельную директорию.
- В тестах используется функциональный подход на основе `pytest`.
- Используется двойная интеграция с DaData сервисом. На уровне формы и на уровне JS-кода. Это исключает возможные ошибки сервиса.
- В папке `assets` содержатся скриншоты работы проекта и структура папок и директорий.
- В проекте не используется проксирующий сервер.
- В проекте не используются фоновые задачи.
- Для разных окружений разные порты. В докере используется 8001, в виртуальном окружении 8000. Дабы исключить конфликты. 
- Время жизни JWT токена 15 минут
- Структура проекта вынесена в файл tree.txt
- Общее время работы над проектом - 8 часов(два захода по 2ч и один заход на 4ч)
